{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/home/home.ts","../../src/models/bookmarks.ts","../../src/models/circle.ts","../../src/pages/list/list.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 108;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 108\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 150;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 150\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Circle } from '../../models/circle';\nimport { getBookmark, addBookmark, removeBookmark } from '../../models/bookmarks';\nimport { getLocalCircles } from '../../models/circle';\n\n@Injectable()\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n  public circles: Circle[] = [];\n  public visibleCircles: Circle[] = [];\n  private baseURL: string = 'https://us-central1-tbf03-offline.cloudfunctions.net/scraper'\n\n  constructor(\n    public navCtrl: NavController,\n    private http: HttpClient\n  ) {\n    if(navigator.onLine) {\n      this.http.get(this.baseURL).subscribe((json: any) => {\n        this.circles = JSON.parse(json).list.map((circle) => {\n          if(!circle.circleCutImage) {\n            circle.circleCutImage = {url: null};\n          }\n          return circle;\n        });\n        this.visibleCircles = this.circles;\n        localStorage.setItem('circles', JSON.stringify(this.circles));\n        console.log(this.visibleCircles)\n      });\n    } else {\n      this.circles = getLocalCircles();\n      this.visibleCircles = this.circles;\n    }\n  }\n\n  getItems(ev: any) {\n    const target = ev.target.value;\n    this.visibleCircles = this.circles.filter((circle: Circle) => {\n      return (\n        circle.name.indexOf(target)+1 ||\n        circle.penName.indexOf(target)+1 ||\n        ('genreFreeFormat' in circle && circle.genreFreeFormat.indexOf(target)+1) ||\n        circle.nameRuby.indexOf(target)+1 ||\n        circle.spaces.join(', ').indexOf(target)+1\n      );\n    })\n  }\n\n  onClickBookmark (id: string) {\n    if (getBookmark().find((bid: string) => bid == id)) {\n      removeBookmark(id)\n    } else {\n      addBookmark(id)\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","const key = 'bookmarks';\n\nexport function getBookmark (): string[] {\n  const json = JSON.parse(localStorage.getItem(key));\n  const bookmarks = (json || []) as string[];\n  return bookmarks\n}\n\nexport function addBookmark (id: string) {\n  let bookmarks = getBookmark();\n  bookmarks.push(id);\n  localStorage.setItem(key, JSON.stringify(bookmarks));\n}\n\nexport function removeBookmark (id: string) {\n  let bookmarks = getBookmark();\n  bookmarks = bookmarks.filter((b: string)=>{return b != id})\n  localStorage.setItem(key, JSON.stringify(bookmarks));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/bookmarks.ts","const key = 'circles';\n\nexport interface Circle {\n  id: string\n  genre: string\n  name: string\n  penName: string\n  nameRuby: string\n  nextCircleExhibitInfoID: string\n  prevCircleExhibitInfoID: string\n  genreFreeFormat?: string\n  createdAt: string\n  updatedAt: string\n  webSiteURL: string\n  event?: any\n  circleCutImage?: any\n  spaces: string[]\n}\n\nexport function getLocalCircles(): Circle[] {\n  const json = JSON.parse(localStorage.getItem(key));\n  const bookmarks = (json || []) as Circle[];\n  return bookmarks\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/circle.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\nimport { Circle } from '../../models/circle';\nimport { getBookmark } from '../../models/bookmarks';\nimport { getLocalCircles } from '../../models/circle';\n\n@Component({\n  selector: 'page-list',\n  templateUrl: 'list.html'\n})\nexport class ListPage {\n\n  public circles: Circle[] = [];\n  public visibleCircles: Circle[] = [];\n\n  constructor(\n    public navCtrl: NavController\n  ) {\n    let circles: Circle[] = getLocalCircles();\n    const bookmarks = getBookmark()\n\n    circles = circles.filter((circle: Circle) => {\n      return (bookmarks.indexOf(circle.id)+1)\n    });\n\n    this.circles = circles;\n    this.visibleCircles = this.circles;\n  }\n\n  getItems(ev: any) {\n    const target = ev.target.value;\n    this.visibleCircles = this.circles.filter((circle: Circle) => {\n      return (\n        circle.name.indexOf(target)+1 ||\n        circle.penName.indexOf(target)+1 ||\n        ('genreFreeFormat' in circle && circle.genreFreeFormat.indexOf(target)+1) ||\n        circle.nameRuby.indexOf(target)+1 ||\n        circle.spaces.join(', ').indexOf(target)+1\n      );\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/list/list.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    ListPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpClientModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    ListPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\nimport { ListPage } from '../pages/list/list';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = HomePage;\n\n  pages: Array<{title: string, component: any}>;\n\n  constructor(public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen) {\n    this.initializeApp();\n\n    // used for an example of ngFor and navigation\n    this.pages = [\n      { title: '全サークル一覧', component: HomePage },\n      { title: 'ブックマーク一覧', component: ListPage }\n    ];\n\n  }\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      this.statusBar.styleDefault();\n      this.splashScreen.hide();\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}